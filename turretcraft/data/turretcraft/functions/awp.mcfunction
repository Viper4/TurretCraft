scoreboard players set @a[tag=Admin] TC_AWP_Ammo 10
execute at @a[scores={TC_AWP_Ammo=0..10},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run title @p actionbar [{"score":{"name":"@p","objective":"TC_AWP_Ammo"},"color":"gray"},{"text":" / ","color":"gray"},{"text":"10","color":"gray"}]
scoreboard players set @a[scores={TC_AWP_Ammo=31..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] TC_AWP_Ammo 10
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 15 0.1
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 15 0.1
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run playsound minecraft:entity.firework_rocket.large_blast master @a ~ ~ ~ 20 0.8
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] positioned ~ ~1.6 ~ run summon arrow ^ ^ ^0.5 {CustomName:'{"text":"AWP"}',Tags:["Bullet","New","Player"],damage:1.8,SoundEvent:"minecraft:block.stone.break"}
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run summon armor_stand ~ ~1.6 ~ {Tags:["BulletAnchor","Player"],Invisible:1b,Small:1b,NoGravity:1b}
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players set @p TC_Recoil 33
execute at @a[scores={TC_AWP_Ammo=1..10,TC_FireTimer=..0,TC_RightClick=1,TC_Recoil=33},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players remove @p TC_AWP_Ammo 1
execute at @a[tag=!Admin,scores={TC_AWP_Ammo=0,TC_FireTimer=..0,TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run playsound minecraft:block.dispenser.fail master @p ~ ~ ~ 1 2
execute at @a[tag=!Admin,scores={TC_AWP_Ammo=0..9,TC_FireTimer=..0},nbt={Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}},{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]}] run scoreboard players set @p TC_FireTimer 70
execute at @a[tag=!Admin,scores={TC_AWP_Ammo=0..9},nbt={Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}]}] run replaceitem entity @p weapon.mainhand carrot_on_a_stick{CustomModelData:3,display:{Lore:['[{"text":"Max Ammo","color":"gray"},{"text":" 10     ","color":"yellow"},{"text":"Fire rate "},{"text":"40RPM","color":"yellow"},{"text":"     Damage "},{"text":"30HP","color":"yellow"}]'],Name:'{"text":"AWP","italic":"false"}'}}
execute at @a[tag=!Admin,scores={TC_AWP_Ammo=0..9,TC_FireTimer=..0},nbt={Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}]},nbt=!{Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]}] run tellraw @p {"text":"No Ammo left","color":"red"}
execute at @a[tag=!Admin,scores={TC_AWP_Ammo=0..9},nbt={Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}]}] run replaceitem entity @p weapon.offhand air
scoreboard players remove @a[scores={TC_AWP_Ammo=0..9},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] TC_FireTimer 1
execute at @a[scores={TC_AWP_Ammo=0..10,TC_Recoil=1..,TC_FireTimer=..0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players remove @p TC_Recoil 1
execute at @a[scores={TC_AWP_Ammo=0..10,TC_Recoil=32,TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run tp @p ~ ~ ~ ~ ~-22
execute at @a[scores={TC_AWP_Ammo=0..9,TC_FireTimer=0},nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}],SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players set @p TC_AWP_Ammo 10
execute at @a[tag=!Admin,nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]},scores={TC_FireTimer=0}] run playsound minecraft:block.piston.contract master @a ~ ~ ~ 1 1
tellraw @a[tag=!Admin,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}},Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]},scores={TC_FireTimer=69}] {"text":"Reloading...","color":"gray"}
clear @a[scores={TC_FireTimer=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] wooden_pickaxe{CustomModelData:3} 1
scoreboard players set @a[scores={TC_FireTimer=0}] TC_FireTimer -1
execute at @a[scores={TC_Shifting=1..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run effect give @p slowness 1 255 true
execute at @a[scores={TC_Shifting=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}},nbt={ActiveEffects:[{Id:2b,Amplifier:-1b}]}] run effect clear @p slowness
