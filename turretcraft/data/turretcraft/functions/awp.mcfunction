scoreboard players set @a[scores={TC_Recoil=34..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] TC_Recoil 0
scoreboard players set @a[scores={TC_Ammo=11..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] TC_Ammo 10
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 10 0.1
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 10 0.4
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.blast.far master @a ~ ~ ~ 10 1
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.large_blast master @a ~ ~ ~ 25 1
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.large_blast.far master @a ~ ~ ~ 25 1
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] positioned ~ ~1.2 ~ run summon arrow ^ ^ ^0.5 {Tags:["Bullet","New","Player"],PierceLevel:1,damage:6.0,SoundEvent:"minecraft:block.stone.break"}
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run summon armor_stand ~ ~1.2 ~ {Tags:["BulletAnchor","Player"],Invisible:1b,Small:1b,NoGravity:1b}
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=0}] run scoreboard players set @s TC_Recoil 33
execute as @a[scores={TC_Ammo=1..10}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] if entity @s[scores={TC_Recoil=33}] run scoreboard players remove @s TC_Ammo 1
execute as @a[tag=!Bypass,scores={TC_Ammo=0}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run playsound minecraft:block.dispenser.fail master @s ~ ~ ~ 1 2
execute as @a[tag=!Bypass,scores={TC_Ammo=0..9}] at @s[scores={TC_Shifting=0},nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players set @s TC_FireTimer 70
execute as @a[tag=!Bypass,scores={TC_Ammo=0..9}] at @s[scores={TC_Shifting=0}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run replaceitem entity @s weapon.mainhand carrot_on_a_stick{CustomModelData:3,display:{Lore:['[{"text":"Max Ammo","color":"gray"},{"text":" 10     ","color":"yellow"},{"text":"Fire rate "},{"text":"32RPM","color":"yellow"},{"text":"     Damage "},{"text":"48HP","color":"yellow"}]'],Name:'{"text":"AWP","italic":"false"}'}}
execute as @a[tag=!Bypass,scores={TC_Ammo=0..9},nbt=!{Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]}] at @s[scores={TC_Shifting=0}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run title @s actionbar {"text":"No Ammo left","color":"red"}
execute as @a[tag=!Bypass,scores={TC_Ammo=0..9}] at @s[scores={TC_Shifting=0}] run kill @e[distance=..2,sort=nearest,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}},limit=1]
scoreboard players remove @a[scores={TC_Ammo=0..9},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] TC_FireTimer 1
execute as @a[scores={TC_Recoil=33},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] at @s run tp @s ~ ~ ~ ~ ~-22
execute as @a[scores={TC_Ammo=0..10},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players remove @s[scores={TC_Recoil=1..33}] TC_Recoil 1
execute as @a[scores={TC_Ammo=0..9},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] run scoreboard players set @s[nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]},scores={TC_FireTimer=0}] TC_Ammo 10
execute at @a[nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]},scores={TC_FireTimer=0}] run playsound minecraft:block.piston.contract master @a ~ ~ ~ 1 1
title @a[tag=!Bypass,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}},Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:3}}]},scores={TC_FireTimer=1..60}] actionbar {"text":"Reloading...","color":"gray"}
clear @a[scores={TC_FireTimer=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] wooden_pickaxe{CustomModelData:3} 1
scoreboard players set @a[scores={TC_FireTimer=0}] TC_FireTimer -1
execute as @a[scores={TC_Shifting=1..}] run effect give @s[nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] slowness 1 255 true
execute as @a[scores={TC_Shifting=0},nbt={ActiveEffects:[{Id:2b,Amplifier:-1b}]}] run effect clear @s[nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:3}}}] slowness
