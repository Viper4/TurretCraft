# All Vanilla commands for turret upgrades
# Made by: Viper1618
#--------------------

execute as @e[type=armor_stand,tag=Turret1H,tag=!Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add NeedUpgrade
execute as @e[type=armor_stand,tag=Turret1H,tag=!Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add NeedUpgrade
execute as @e[type=armor_stand,tag=Turret1H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V1)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret1H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V1)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret1H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add Upgraded 
execute as @e[type=armor_stand,tag=Turret1H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add Upgraded
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded] run data merge entity @e[type=armor_stand,tag=TurretB,distance=..1,limit=1,sort=nearest] {ArmorItems:[{},{},{},{id:"minecraft:smooth_stone",Count:1b}],HandItems:[{},{}]}
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=NeedUpgrade] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1]
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=NeedUpgrade] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1]
tag @e[tag=NeedUpgrade] remove NeedUpgrade

execute as @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V1)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V1)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add Upgraded1
execute as @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret1,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add Upgraded1
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded1] run data merge entity @e[type=armor_stand,tag=TurretB,distance=..1,limit=1,sort=nearest] {ArmorItems:[{},{},{},{id:"minecraft:green_glazed_terracotta",Count:1b}],HandItems:[{},{}]}
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=Upgraded1] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V1)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1]
execute at @e[type=armor_stand,tag=Turret1H,tag=Upgraded,tag=Upgraded1] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V1)","color":"white"}]'}}}},distance=..1,limit=1]
execute as @e[type=armor_stand,tag=Turret1H,tag=Upgraded1] run tag @s remove Upgraded

execute as @e[type=armor_stand,tag=Turret2H,tag=!Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add NeedUpgrade
execute as @e[type=armor_stand,tag=Turret2H,tag=!Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add NeedUpgrade
execute as @e[type=armor_stand,tag=Turret2H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V2)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret2H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V2)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret2H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add Upgraded 
execute as @e[type=armor_stand,tag=Turret2H,tag=NeedUpgrade] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add Upgraded
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded] run data merge entity @e[type=armor_stand,tag=TurretB,distance=..1,limit=1,sort=nearest] {ArmorItems:[{},{},{},{id:"minecraft:chiseled_quartz_block",Count:1b}],HandItems:[{},{}]}
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=NeedUpgrade] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1]
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=NeedUpgrade] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1]
tag @e[tag=NeedUpgrade] remove NeedUpgrade

execute as @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V2)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tellraw @a[distance=..5] [{"text":"[","color":"dark_green"},{"text":"Turret ","color":"gray"},{"text":"(V2)","color":"white"},{"text":"]","color":"dark_green"},{"text":" Successfully installed component","color":"gray"}]
execute as @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1] run tag @s add Upgraded1
execute as @e[type=armor_stand,tag=Turret2H,tag=!Upgraded1] at @s unless entity @e[type=armor_stand,tag=Turret2,distance=..1] if entity @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1] run tag @s add Upgraded1
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded1] run data merge entity @e[type=armor_stand,tag=TurretB,distance=..1,limit=1,sort=nearest] {ArmorItems:[{},{},{},{id:"minecraft:light_gray_glazed_terracotta",Count:1b}],HandItems:[{},{}]}
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=Upgraded1] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'{"color":"gray","extra":[{"color":"white","text":" (V2)"}],"text":"Turret Component"}'}}}},distance=..1,limit=1]
execute at @e[type=armor_stand,tag=Turret2H,tag=Upgraded,tag=Upgraded1] run kill @e[type=item,nbt={Item:{id:"minecraft:conduit",Count:1b,tag:{display:{Name:'[{"text":"Turret Component","color":"gray"},{"text":" (V2)","color":"white"}]'}}}},distance=..1,limit=1]
execute as @e[type=armor_stand,tag=Turret2H,tag=Upgraded1] run tag @s remove Upgraded