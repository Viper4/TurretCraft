scoreboard players set @a[scores={TC_Recoil=14..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] TC_Recoil 13
scoreboard players set @a[scores={TC_Ammo=9..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] TC_Ammo 8
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:block.stone.break master @a ~ ~ ~ 19 1.2
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run playsound minecraft:entity.firework_rocket.blast master @a ~ ~ ~ 20 0.1
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run summon armor_stand ~ ~ ~ {Tags:["Bullet","Bullet1","New"],Invisible:1b,NoGravity:1b,Small:1b,DisabledSlots:2039583}
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run tp @e[type=armor_stand,tag=Bullet,tag=New,distance=..1] ^ ^0.5 ^1.5 ~ ~
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run tag @e[type=armor_stand,tag=Bullet,tag=New,distance=1.5..] remove New
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run scoreboard players remove @s TC_Ammo 1
execute as @a[scores={TC_Ammo=1..8}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] if entity @s[scores={TC_Recoil=0}] run scoreboard players set @s TC_Recoil 13
execute as @a[tag=!Bypass,scores={TC_Ammo=0}] at @s[scores={TC_RightClick=1},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run playsound minecraft:block.dispenser.fail master @s ~ ~ ~ 1 2
execute as @a[tag=!Bypass,scores={TC_Ammo=0..7}] at @s[scores={TC_Shifting=0},nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:2}}]}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run scoreboard players set @s TC_Timer 40
execute as @a[tag=!Bypass,scores={TC_Ammo=0..7}] at @s[scores={TC_Shifting=0}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run replaceitem entity @s weapon.mainhand carrot_on_a_stick{CustomModelData:2,display:{Lore:['[{"text":"Max Ammo","color":"gray"},{"text":" 8     ","color":"yellow"},{"text":"Fire rate "},{"text":"75RPM","color":"yellow"},{"text":"     Damage "},{"text":"6HP","color":"yellow"}]'],Name:'{"text":"Desert Eagle","italic":"false"}'}}
execute as @a[tag=!Bypass,scores={TC_Ammo=0..7},nbt=!{Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:2}}]}] at @s[scores={TC_Shifting=0}] if entity @e[distance=..2,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run title @s actionbar {"text":"No Ammo left","color":"red"}
execute as @a[tag=!Bypass,scores={TC_Ammo=0..7}] at @s[scores={TC_Shifting=0}] run kill @e[distance=..2,sort=nearest,type=item,nbt={Item:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}},limit=1]
scoreboard players remove @a[scores={TC_Ammo=0..7},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] TC_Timer 1
execute as @a[scores={TC_Ammo=0..7},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run scoreboard players set @s[nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:2}}]},scores={TC_Timer=0}] TC_Ammo 8
execute at @a[tag=!Bypass,nbt={Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:2}}]},scores={TC_Timer=0}] run playsound minecraft:block.piston.contract master @a ~ ~ ~ 1 1
title @a[tag=!Bypass,nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}},Inventory:[{id:"minecraft:wooden_pickaxe",tag:{CustomModelData:2}}]},scores={TC_Timer=1..40}] actionbar {"text":"Reloading...","color":"gray"}
clear @a[scores={TC_Timer=0},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] wooden_pickaxe{CustomModelData:2} 1
scoreboard players set @a[scores={TC_Timer=0}] TC_Timer -1
execute as @a[scores={TC_Ammo=1..8},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] run scoreboard players remove @s[scores={TC_Recoil=1..13}] TC_Recoil 1
execute as @a[scores={TC_Recoil=12..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{CustomModelData:2}}}] at @s run tp @s ~ ~ ~ ~ ~-12
